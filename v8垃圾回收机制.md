## V8垃圾回收机制分为新生代和老生代两种机制
- 新生代是使用两个堆内存空间：from和to，速度是最快的。
  - 64位系统是32M大小，from和to各占16M；
  - 32位系统是16M大小，from和to各占8M；
  - 不会产生内存碎片，空间小，速度快。
  - 广度优先查找
  - 回收机制：从from空间中查找活跃对象放到to空间，移动次数+1，广度优先查找；查找完成后，清空from空间和剩余的非活跃对象。然后把from和to空间顺序对调，再进行以上操作清理垃圾对象。当对象的移动次数达到2(可设置)时，把此对象移动到老生代的垃圾回收堆内存空间中，交给老生代处理。如果此对象使用了超过25%的空间，也交给老生代处理。
- 老生代是一个堆内存空间
  - 64位系统：2G大小
  - 32位系统：0.7G大小
  - 空间大，速度慢，容易产生内存碎片
  - 深度优先查找
  - 回收机制：
    - 标记清除(Mark-Sweep)：老生代内存会先遍历所有对象并打上标记，然后对正在使用或被强引用的对象取消标记，回收被标记的对象。
      - Mark-Sweep最大的问题就是，在进行一次清除回收以后，内存空间会出现不连续的状态。这种内存碎片会对后续的内存分配造成问题。
    - 标记整理(Mark-Compact)：标记完存活对象以后，会将活着的对象向内存空间的一端移动，移动完成后，直接清理掉边界外的所有内存。
      - 问题：花费时间长
    - 两者配合使用，在v8引擎中不是一次性进行垃圾回收的，而是分批次的进行。因为老生代进行一次回收需要1s左右，回收时程序是不能运行的。所以进行分批次进行。

### V8执行过程：
- js源码->解析器->AST语法树和作用域->中间代码(字节码)->解释器->(编译器->机器码)->结果
